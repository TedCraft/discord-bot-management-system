<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Discord bot management system</title>

    <script>if (typeof module === 'object') { window.module = module; module = undefined; }</script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
        integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-link" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button"
                role="tab" aria-controls="nav-home" aria-selected="false">Home</a>
        </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
            <div id="container" style="width: 500px; height: 300px; border: 1px solid #ccc"></div>
        </div>
    </div>
</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
<script>
    (function () {
        const path = require('path');
        const amdLoader = require('../node_modules/monaco-editor/min/vs/loader.js');
        const amdRequire = amdLoader.require;
        const amdDefine = amdLoader.require.define;

        function uriFromPath(_path) {
            var pathName = path.resolve(_path).replace(/\\/g, '/');
            if (pathName.length > 0 && pathName.charAt(0) !== '/') {
                pathName = '/' + pathName;
            }
            return encodeURI('file://' + pathName);
        }

        amdRequire.config({
            baseUrl: uriFromPath(path.join(__dirname, '../node_modules/monaco-editor/min'))
        });

        // workaround monaco-css not understanding the environment
        self.module = undefined;

        const tab1 = new bootstrap.Tab(document.getElementById('nav-home-tab'));
        tab1.show();

        amdRequire(['vs/editor/editor.main'], function () {
            monaco.editor.create(document.getElementById('container'), {
                value: ['function x() {', '\tconsole.log("Hello world!");', '}'].join('\n'),
                language: 'javascript',
                automaticLayout: true
            });
            console.log(monaco.editor.getModels())
        });

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function demo() {
            await sleep(10000);

            //document.getElementById('nav-tab').innerHTML += `<a class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile"
            //    type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Profile</a>`;
            document.getElementById('nav-tabContent').appendChild(document.createElement('div'));

            //const tab = new bootstrap.Tab(document.getElementById('nav-profile-tab'));
            //tab.show();

            //await sleep(100000);
            //amdRequire(['vs/editor/editor.main'], function () {
            //    monaco.editor.create(document.getElementById('container2'), {
            //        value: ['function x() {', '\tconsole.log("Hello world!");', '}'].join('\n'),
            //        language: 'javascript',
            //        automaticLayout: true
            //    });
            //    console.log(monaco.editor.getModels())
            //});
        }

        demo();
    })();

    function test() {
        console.log('test')
    }
</script>

</html>